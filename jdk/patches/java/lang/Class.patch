--- src.orig/java/lang/Class.java	2013-01-04 14:04:02.000000000 -0500
+++ src/java/lang/Class.java	2018-05-12 20:21:23.000000000 -0400
@@ -183,7 +183,10 @@
      */
     public static Class<?> forName(String className)
                 throws ClassNotFoundException {
-        return forName0(className, true, ClassLoader.getCallerClassLoader());
+        // Modified for PolyLLVM.
+        Class c = new Class();
+        c.name = className;
+        return c;
     }


@@ -2154,7 +2157,15 @@
      * Return the Virtual Machine's Class object for the named
      * primitive type.
      */
-    static native Class getPrimitiveClass(String name);
+    static Class getPrimitiveClass(String name) {
+        // Modified for PolyLLVM.
+        try {
+            return forName(name);
+        }
+        catch (ClassNotFoundException e) {
+            throw new RuntimeException(e);
+        }
+    }


     /*
